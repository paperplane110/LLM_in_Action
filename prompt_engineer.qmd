# 提示词工程 {#sec-prompt_engineering}

在和 LLM 的交互中，`提示词` 发挥着至关重要的作用，`提示词` 是我们和 LLM 沟通的桥梁。

## 什么是提示词
在 NLP 领域，`提示` 是一种用于引导预训练语言模型解决特定任务的方法。`提示` 通常是一段文本，用于构建问题或任务的描述，以便预训练语言模型可以根据其内在知识生成合适的输出。

如果大语言模型是一个 5 岁的小孩，那么他基本上可以做非常多的事情了，关键是我们如何与一个 5 岁的小孩进行良好的沟通，以让他可以完成我们期望的任务？其中的关键就是 `提示词`。你是否还能记起你和孩子在一起的很多互动场景：

* 出门的场景
  * 快点，要迟到嘞，别磨蹭了
  * 紧急呼叫汪汪队到门口集合
* 打扫卫生的场景
  * 帮爸爸收拾一下桌子
  * 呼叫无敌小帮手，爸爸需要支援
* ……

不同的 `提示词`，既可以让孩子帮我们完成工作，又可以让孩子在这个过程中得到成长和锻炼。对于 LLM 而言，也是如此。

从 @fig-bd_2023 也能看出，`提示词` 的重要性。

![2023年百度世界大会主题](./images/bd2023.jpg){#fig-bd_2023}

## 什么是提示词工程
提示工程起源于对预训练模型如何将知识应用于具体任务的探讨。

预训练语言模型通常在大规模语料库上进行预训练，从而学习到大量的语言知识。然而，将这些知识应用于具体任务时，往往需要对模型进行微调（SFT：Supervised Fine Tuning）。微调过程中，模型需要根据标注的任务数据学习任务相关的知识。

这种根据专有数据进行微调的方法，在许多情况下取得了很好的效果，但仍然存在一些问题。例如：

* 微调过程可能需要大量的标注数据，而这些数据往往难以获得。
* 微调后的模型可能会存在过拟合现象，导致模型的泛化能力下降。

为了解决这些问题，研究人员开始关注如何通过优化输入和问题表述来引导模型产生更好的输出结果，而无须进行昂贵的微调，这种方法被称 `提示词工程`，如 @fig-pe_arch 所示。

![微调和提示词工程的关系](./images/pe_arch.png){#fig-pe_arch}

通过精心设计 `提示词`，我们可以引导模型关注输入数据中的关键信息，从而提高模型在各种自然语言处理任务上的性能。`提示词工程` 的核心思想是: **将问题表述为一种容易被模型理解和解答的形式**。可以通过多种方式来实现 `提示词工程`，例如：重述问题，给出示例或采用渐进式提示等。`提示词工程` 的关键在于找到一种能够充分发挥模型潜力的问题表述方式。

`提示词工程` 是一种优化和设计 `提示词` 的技术，从而可以更好的应用预训练大语言模型，使其可以更好的解决各种任务。

## 一种新的职业
`提示词工程` 对于任何使用 LLM 的人来说都是一项关键技能。随着越来越多的组织采用 LLM 来实现任务自动化并提高其生产效能，`提示词工程` 更是一项需求量很大的技能和职业。作为一个新兴的领域，`提示词工程` 特别需要创造力和对细节的关注。`提示词工程` 包括但不限于：选择正确的单词、短语、符号和格式，以指导模型生成高质量的、相关的文本。一个好的提示工程师可以通过设计产生所需输出的提示来帮助组织充分利用 LLM。

如果大家已经使用过文心一言来和文心大模型互动，那么对于 `提示词` 应该比较熟悉。我们来看一下如下两个 `提示词` 的结果：

::: {#fig-wx_pe layout-ncol=2}

![请给出描述高兴的成语。](./images/pe_wx_1.jpg){#fig-pe_wx_1}

![请给出5个描述高兴的成语，并给出其解释。](./images/pe_wx_2.jpg){#fig-pe_wx_2}

不同提示词的结果差异
:::

:::{.callout-note title="扩展资料"}
更多关于提示词工程的具体实践方法可以参考：Learn Prompting [^1] 和 Stabel Diffusion 提示词手册 [^2]。
:::

[^1]: [Learn Prompting](https://learnprompting.org/zh-Hans/docs/intro)
[^2]: [Stabel Diffusion 提示词手册](https://pan.baidu.com/s/1dciwgbhO-lfKyRo8lOqW9Q?pwd=cm9q)
